
<CredentialsPopup>
    background_color: app.active_window_color
    canvas.before:
        Color:
            rgba: (1,0,0,1) if self.background_color is None else self.background_color
        Rectangle:
            size: self.size
    ErrLabel:
        id: message
        halign: 'center'
        text_size: self.size
        pos_hint: {'top': 1, 'center_x': .5}


    ScrollView:
        id: scroller
        pos_hint: {'top': 1 - message.height/root.height, 'center_x': .5}
        size_hint: None, 1
        width: 330
        bar_width: 10
        bar_color: app.bar_color
        bar_inactive_color: app.bar_color
        effect_cls: "ScrollEffect"
        scroll_type: ['bars', 'content']
        BoxLayout:
            id: creds
            orientation: 'vertical'
            size_hint: 1 - scroller.bar_width/scroller.width, None
            height: max(self.minimum_height, scroller.height)

            Label:
                text: 'Server name or IP:'
                text_size: self.size
            TextInput:
                id: server
                size_hint_x: 1
                text: ''
            ErrLabel:
                id: server_err
                text_size: self.size

            Label:
                text: 'User:'
                text_size: self.size
            TextInput:
                id: user
                size_hint_x: 1
                text: ''
            ErrLabel:
                id: user_err
                text_size: self.size

            Label:
                text: 'Password:'
                text_size: self.size
            TextInput:
                id: password
                multiline: False
                password: True
                size_hint_x: 1
                text: ''

            ErrLabel:
                id: password_err
                text_size: self.size

            Label:
                text: 'Port:'
                text_size: self.size
            TextInput:
                id: port
                size_hint_x: 1
                text: '22'
            ErrLabel:
                id: port_err
                text_size: self.size

            Label:
                text: 'Drop a ssh private key file or paste its path:'
                text_size: self.size

            TextInput:
                id: private_key
                size_hint_x: 1
            ErrLabel:
                id: private_key_err
                text_size: self.size

            BoxLayout:
                spacing: 1
                size_hint_y: None
                height: 26
                BoxLayout:

                Button:
                    id: connect
                    background_color: app.main_bcolor
                    color: app.font_color
                    text: 'Connect'
                    width: 80
                    on_press: root.connect()


            BoxLayout: