<AttrLayout@BoxLayout>
    orientation: 'vertical'
    size_hint: None, None
    size: 84, 42
    attribute: ''
    state: 0
    Label:
        text: root.attribute
        size_hint: None, None
        size: 84, 20
    RelativeLayout:
        size_hint: None, None
        size: 84, 20
        ThreeStateCheckbox:
            id: checkbox
            pos_hint: {'center_x': .5}
            state: root.state
            on_state_change: root.state = self.state


<ChmodPopup>
    orientation: 'vertical'
    spacing: 1
    background_color: app.fbx_active_bcolor
    canvas.before:
        Color:
            rgba: (1,0,0,1) if self.background_color is None else self.background_color
        Rectangle:
            size: self.size
            pos: self.pos
    Label:
        text: 'Set new attributes'
        text_size: self.size
        halign: 'left'

    BoxLayout:
        spacing: 4
        Label:
            id: numeric_value_lbl
            size_hint_x: None
            def_text: 'Numeric value:'
            text: self.def_text if not root.value_error else root.value_error
            halign: 'left'
            color: app.font_color if not root.value_error else (1, 0, 0, 1)

        TextInput:
            id: numeric_value_txt
            size_hint_x: None
            width: 80
            text: root.mode

            on_text: root.change_mode(self.text)
        BoxLayout:
    Label:
        text: 'Owner'
        text_size: self.size
        halign: 'left'
    BoxLayout:
        size_hint_y: None
        height: owner_read.height
        AttrLayout:
            id: owner_read
            attribute: 'Read'
            state: root.owner_read
            on_state: root.owner_read = self.state
        AttrLayout:
            id: owner_write
            attribute: 'Write'
            state: root.owner_write
            on_state:  root.owner_write = self.state
        AttrLayout:
            id: owner_execute
            attribute: 'Execute'
            state: root.owner_execute
            on_state:  root.owner_execute = self.state

    Label:
        text: 'Group'
        text_size: self.size
        halign: 'left'
    BoxLayout:
        size_hint_y: None
        height: group_read.height
        AttrLayout:
            id: group_read
            attribute: 'Read'
            state: root.group_read
            on_state:  root.group_read = self.state
        AttrLayout:
            id: group_write
            attribute: 'Write'
            state: root.group_write
            on_state:  root.group_write = self.state
        AttrLayout:
            id: group_execute
            attribute: 'Execute'
            state: root.group_execute
            on_state:  root.group_execute = self.state


    Label:
        text: 'Others'
        text_size: self.size
        halign: 'left'
    BoxLayout:
        size_hint_y: None
        height: other_read.height
        AttrLayout:
            id: other_read
            attribute: 'Read'
            state: root.other_read
            on_state:  root.other_read = self.state

        AttrLayout:
            id: other_write
            attribute: 'Write'
            state: root.other_write
            on_state:  root.other_write = self.state
        AttrLayout:
            id: other_execute
            attribute: 'Execute'
            state: root.other_execute
            on_state:  root.other_execute = self.state
    RelativeLayout:
        size_hint_y: None
        height: 20
        Button:
            id: save_btn
            pos_hint: {'center_x': .5}
            text: 'Save'
            on_press: root.save()

    BoxLayout:

